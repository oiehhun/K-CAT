{"version":3,"file":"definitions.test.js","sourceRoot":"","sources":["../../../src/lib/storage/definitions.test.ts"],"names":[],"mappings":";;;;;;;;;AACA,mCAA2C;AAC3C,mEAAgG;AAehG,MAAM,gBAAgB,GAAG,IAAI,uCAAc,CAAC,eAAe,EAAE,SAAS,CAAC,CAAC;AAIjE,IAAM,eAAe,GAArB,MAAM,eAAgB,SAAQ,oBAA8C;CAAG,CAAA;AAAzE,eAAe;IAH3B,IAAA,mCAAU,EAAC;QACX,IAAI,EAAE,gBAAgB;KACtB,CAAC;GACW,eAAe,CAA0D;AAAzE,0CAAe;AAqBf,QAAA,YAAY,GAAG,IAAI,uCAAc,CAAyB,UAAU,EAAE,WAAW,CAAC,CAAC;AACnF,QAAA,SAAS,GAAG,IAAI,uCAAc,CAC1C,OAAO,EACP,QAAQ,EACR,oBAAY,CACZ,CAAC;AAKK,IAAM,iBAAiB,GAAvB,MAAM,iBAAkB,SAAQ,oBAA4C;CAAG,CAAA;AAAzE,iBAAiB;IAH7B,IAAA,mCAAU,EAAC;QACX,IAAI,EAAE,oBAAY;KAClB,CAAC;GACW,iBAAiB,CAAwD;AAAzE,8CAAiB;AAKvB,IAAM,cAAc,GAApB,MAAM,cAAe,SAAQ,oBAAsC;CAAG,CAAA;AAAhE,cAAc;IAH1B,IAAA,mCAAU,EAAC;QACX,IAAI,EAAE,iBAAS;KACf,CAAC;GACW,cAAc,CAAkD;AAAhE,wCAAc","sourcesContent":["import { Timestamp } from '@google-cloud/firestore';\nimport { BaseRepository } from '../../lib';\nimport { BaseModel, CollectionPath, DocumentIds, Id, Repository } from 'firestore-storage-core';\n\nexport interface Model extends BaseModel {\n\tdetails?: {\n\t\tfield1?: {\n\t\t\tsubField1?: string;\n\t\t\tsubField2?: string;\n\t\t};\n\t\tfield2?: string;\n\t};\n\tsomeIds?: string[];\n\tstartTime?: Timestamp;\n\tendTime?: Timestamp;\n}\n\nconst GenericModelPath = new CollectionPath('genericModels', 'modelId');\n@Repository({\n\tpath: GenericModelPath,\n})\nexport class ModelRepository extends BaseRepository<Model, typeof GenericModelPath> {}\n\nexport type AccountId = Id<'Account'>;\nexport type UserId = Id<'User'>;\n\nexport interface Account extends BaseModel {\n\tid: AccountId;\n\tname: string;\n}\n\nexport interface User extends BaseModel {\n\tid: UserId;\n\tuserName: string;\n\tlastSignIn?: Timestamp;\n\taddress?: {\n\t\tstreet?: string;\n\t\tzip?: string;\n\t\tcity?: string;\n\t};\n}\n\nexport const AccountsPath = new CollectionPath<'accountId', AccountId>('accounts', 'accountId');\nexport const UsersPath = new CollectionPath<'userId', UserId, DocumentIds<typeof AccountsPath>>(\n\t'users',\n\t'userId',\n\tAccountsPath\n);\n\n@Repository({\n\tpath: AccountsPath,\n})\nexport class AccountRepository extends BaseRepository<Account, typeof AccountsPath> {}\n\n@Repository({\n\tpath: UsersPath,\n})\nexport class UserRepository extends BaseRepository<User, typeof UsersPath> {}\n"]}