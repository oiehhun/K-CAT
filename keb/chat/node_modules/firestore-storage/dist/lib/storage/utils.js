"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.applyToDoc = void 0;
function applyToDoc(firestore, repo, data, ids, cb) {
    const d = repo.toFirestoreDocument(data);
    const path = repo.getPath();
    const docRef = d.id
        ? firestore.doc(repo.getDocumentPath(path.toDocIds(ids, d.id)))
        : firestore.collection(path.collection(ids)).doc();
    return cb(docRef.id, d.data, docRef);
}
exports.applyToDoc = applyToDoc;
//# sourceMappingURL=utils.js.map